# Yazi 快捷键操作手册

> 适用于 Windows | 已根据仓库配置同步（最后更新：2025-11-13）

本文档与仓库中的 `yazi.toml`、`keymap.toml` 同步校对；如配置更改，请以配置文件为准。

---

## 快速目录

- 基础操作
- 文件打开方式
- 导航
- 选择与可视模式
- 常用文件操作
- 搜索与查找
- 复制路径
- 标签页与排序
- 推荐工具

---

## 主要说明

- 本手册与仓库中 `yazi.toml` 的 `opener`、`open.rules` 和 `preview` 节，以及 `keymap.toml` 的 `mgr.keymap` 同步。
- `Enter` 的默认行为由 `open.rules` 决定；文件夹通常按规则映射为 `reveal`（在资源管理器中选中），在 Yazi 内部进入目录常用 `l`。

---

## 基础操作

- `q`：退出程序。
- `Q`：退出且不保存当前路径（`quit --no-cwd-file`）。
- `Ctrl+c`：关闭当前标签页（最后一个标签页会退出）。
- `Esc`：取消操作或退出可视/搜索模式。
- `~` / `F1`：打开帮助。

---

## 文件打开方式（概览）

- Markdown (`.md`)：通常使用 `markdown` opener（如 Typora），也可选择 `nvim` 等。
- 文本文件：`edit`（例如 `nvim %*`）。
- 图片：`image`（例如 XnViewMP、mspaint 或 ImageMagick）。
- 媒体：`play`（mpv、PotPlayer 等）。
- 压缩包：`extract`（内置或外部工具）。
- 文件夹：通常映射到 `reveal`（`explorer /select,"%1"`）或内部 `enter`（`l`）。

备注：具体 opener 定义见 `yazi.toml` 的 `opener` 节，匹配规则见 `open.rules`。

---

## 导航

- 上/下：`j` / `k` 或方向键。
- 半页翻动：`Ctrl+d` / `Ctrl+u`。
- 翻页：`Ctrl+f` / `Ctrl+b`。
- 跳首尾：`gg` / `G`。
- 左/右：`h` / `l`（返回 / 进入）。

---

## 选择与可视模式

- 切换选择：`Space`。
- 全选/反选：`Ctrl+a` / `Ctrl+r`。
- 可视模式：`v`（字符）/ `V`（行）。

---

## 常用文件操作

- 打开：`Enter` 或 `o`（`O` 为交互式选择）。
- 复制/剪切/粘贴：`y` / `x` / `p`。
- 删除：`d`（回收站） / `D`（永久删除）。
- 创建：`a`（以 `/` 结尾创建目录）。
- 重命名：`r`。
- 链接：`-`（绝对符号链接）/ `_`（相对符号链接）/ `Ctrl+-`（硬链接）。
- Shell：`;`（交互）/ `:`（阻塞）。

---

## 搜索与查找

- 文件名搜索：`s`（通常使用 `fd`）。
- 内容搜索：`S`（通常使用 `rg`）。
- 查找导航：`/` / `?` / `n` / `N`。
- 模糊跳转：`z` / `Z`（`fzf` / `zoxide`）。

---

## 复制路径

- `c c`：复制完整路径。
- `c d`：复制目录路径。
- `c f`：复制文件名。
- `c n`：复制无扩展名文件名。

---

## 标签页与排序

- 新建标签：`t`；切换：`1`-`9`；移动：`[` / `]`。
- 排序：按 `,` 后选择排序方式（详见 `keymap.toml`）。

---

## 推荐工具

- 建议安装：`nvim`、`mpv`、`bat`、`ffmpegthumbnailer`、`pdftoppm`（poppler）、`ImageMagick`、`fd`、`rg`、`fzf`。

---

如需更详细的按键映射或将这些更改提交到 git，请确认是否要我执行 commit & push。 
---

## 目录

- 基础操作
- 文件打开方式
- 文件导航
- 文件选择
- 文件操作
- 搜索与查找
- 快速跳转
- 标签页管理
- 排序方式
- 显示模式
- 复制路径
- 任务管理
- 帮助系统
- 推荐工具

---

## 主要说明（简短）

- **配置参考**：`yazi.toml`（`opener`、`open.rules`、`preview`）和 `keymap.toml`（`mgr.keymap`）。
- **行为差异**：`Enter` 的实际动作由 `open.rules` 决定；对目录常见配置是 `reveal`（在资源管理器中选中），而 `l`/`enter` 通常用于在 Yazi 内部进入目录。

---

## 快速目录（便于查阅）

- 基础操作  • 文件打开方式  • 导航  • 选择  • 文件操作  • 搜索  • 复制路径  • 标签/排序  • 常见问题

---

## 基础操作
- **`q`**: 退出程序（`quit`）。
- **`Q`**: 退出且不保存当前路径（`quit --no-cwd-file`）。
---

# Yazi 快捷键操作手册

> 适用于 Windows | 已根据仓库配置同步（最后更新：2025-11-13）

本文档与仓库中的 `yazi.toml`、`keymap.toml` 同步校对；如配置更改，请以配置文件为准。

---

## 目录

- 基础操作
- 文件打开方式
- 文件导航
- 文件选择
- 文件操作
- 搜索与查找
- 快速跳转
- 标签页管理
- 排序方式
- 显示模式
- 复制路径
- 任务管理
- 帮助系统
- 推荐工具

---

## 主要说明（简短）

- **配置参考**：`yazi.toml`（`opener`、`open.rules`、`preview`）和 `keymap.toml`（`mgr.keymap`）。
- **行为差异**：`Enter` 的实际动作由 `open.rules` 决定；对目录常见配置是 `reveal`（在资源管理器中选中），而 `l`/`enter` 通常用于在 Yazi 内部进入目录。

---

## 基础操作

- **`q`**: 退出程序（`quit`）。
- **`Q`**: 退出且不保存当前路径（`quit --no-cwd-file`）。
- **`Ctrl+c`**: 关闭当前标签页（最后一个标签页会退出）。
- **`Esc`**: 取消/退出可视模式或搜索。
- **`~` / `F1`**: 打开帮助界面。

---

## 文件打开方式（与配置对齐）

说明：默认打开方式由 `open.rules` 决定，实际可选 opener 列表在 `opener` 中定义（例如 `markdown`、`image`、`play`、`extract`、`reveal`）。

- Markdown (`.md`, `.markdown`)

	- 默认：Typora（示例路径 `C:\Program Files\Typora\Typora.exe`），快捷键 `Enter`。可通过 `o` 选择使用 `nvim` 等。

- 文本文件

	- 默认：`nvim %*`（`opener.edit`，通常为阻塞模式），快捷键 `Enter`。

- 图片

	- 默认：XnView MP 或配置中的 image opener，快捷键 `Enter`。`o` 可选择 `reveal`、`mspaint` 等。

- 音视频

	- `opener.play` 列表中选择（mpv、PotPlayer 等），或回退到系统默认。

- 压缩包

	- 使用 `extract` opener（例如内置解压命令），或通过 `o` 选择 `reveal`。

- 文件夹

	- 常见规则：`*/` -> `reveal`（`explorer /select,"%1"`），此时 `Enter` 在资源管理器中打开并选中该项；若想在 Yazi 内部进入目录，请使用 `l`（或 `enter` 命令映射）。

---

## 导航（常用）

- 上/下：`j` / `k` 或 `↑` / `↓`。
- 半页：`Ctrl+d` / `Ctrl+u`。
- 翻页：`Ctrl+f` / `Ctrl+b` 或 `PageDown` / `PageUp`。
- 跳首尾：`gg`（顶部），`G`（底部）。
- 左右：`l` / `→`（进入）与 `h` / `←`（返回）。

---

## 选择与可视模式

- 切换单项选择：`Space`（toggle 并移动至下一个）。
- 全选/反选：`Ctrl+a` / `Ctrl+r`。
- 可视选择：`v`（行），`V`（块）。

---

## 常用文件操作

- 打开：`Enter` 或 `o`（`O` / `Shift+Enter` 为交互式打开 `open --interactive`）。
- 复制/剪切/粘贴：`y` / `x` / `p` / `P`。
- 创建：`a`（以 `/` 结尾表示创建目录）。
- 重命名：`r`。删除：`d`（回收站） / `D`（永久）。
- 链接：`-`（绝对符号链接），`_`（相对符号链接），`Ctrl+-`（硬链接）。
- Shell 命令：`;`（交互） / `:`（阻塞）。

---

## 搜索与查找

- 文件名搜索：`s`（一般通过 `fd`）。
- 内容搜索：`S`（`rg`）。
- 查找导航：`/`（下一个），`?`（上一个），`n` / `N`（切换）。
- Fuzzy 跳转：`z` / `Z`（如 `fzf` / `zoxide`）。

---

## 复制路径（按 `c` 后跟子键）

- `c`：复制完整路径（`copy path`）。
- `d`：复制目录路径（`copy dirname`）。
- `f`：复制文件名（`copy filename`）。
- `n`：复制无扩展名文件名（`copy name_without_ext`）。

---

## 标签页、排序、显示

- 标签：`t` 新建，数字 `1`-`9` 切换，`[` `]` 切换相对页，`{` `}` 交换标签。
- 排序：按 `,` 后选择排序规则（参见 `keymap.toml` 中的映射）。
- 显示模式：`m` 后选择（例如 `m s` 显示大小，`m p` 显示权限）。

---

## 推荐工具

- 建议安装：`nvim`、`mpv`、`bat`、`ffmpegthumbnailer`、`pdftoppm`（poppler）、`ImageMagick`、`fd`、`ripgrep(rg)`、`fzf`。

---

## 常见问题（FAQ）

- Q: 如何更改默认打开程序？

	- A: 编辑 `opener` 节并修改 `open.rules` 中对应类型的 `use` 列表。

- Q: 想在资源管理器中选中某文件？

	- A: 使用 `reveal` opener（配置为 `explorer /select,"%1"`），或按 `o` 手动选择 `reveal`。

---

文档已与仓库配置同步。如需我同时提交改动到 git，请回复确认。
| `Z` | zoxide 跳转 | 使用 zoxide 跳转到常用目录 |

---

## 快速跳转

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `g h` | 跳转到主目录 | 跳转到用户主目录 |
| `g c` | 跳转到配置目录 | 跳转到 Yazi 配置目录 |
| `g d` | 跳转到下载文件夹 | 跳转到 Downloads |
| `g D` | 跳转到桌面 | 跳转到 Desktop |
| `g o` | 跳转到文档 | 跳转到 Documents |
| `g p` | 跳转到图片 | 跳转到 Pictures |
| `g v` | 跳转到视频 | 跳转到 Videos |
| `g m` | 跳转到音乐 | 跳转到 Music |
| `g Space` | 交互式跳转 | 输入路径跳转 |
| `g f` | 跟随符号链接 | 跳转到符号链接指向的位置 |

---

## 标签页管理

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `t` | 新建标签页 | 在当前目录新建标签页 |
| `1` - `9` | 切换标签页 | 切换到第 1-9 个标签页 |
| `[` | 上一个标签页 | 切换到左边的标签页 |
| `]` | 下一个标签页 | 切换到右边的标签页 |
| `{` | 左移标签页 | 将当前标签页与左边交换 |
| `}` | 右移标签页 | 将当前标签页与右边交换 |

---

## 排序方式

按 `,` 键后再按以下键进行排序：

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `, m` | 按修改时间排序 | 从旧到新 |
| `, M` | 按修改时间排序（反向） | 从新到旧 |
| `, b` | 按创建时间排序 | 从旧到新 |
| `, B` | 按创建时间排序（反向） | 从新到旧 |
| `, e` | 按扩展名排序 | A-Z |
| `, E` | 按扩展名排序（反向） | Z-A |
| `, a` | 按字母排序 | A-Z |
| `, A` | 按字母排序（反向） | Z-A |
| `, n` | 按自然顺序排序 | 数字智能排序 |
| `, N` | 按自然顺序排序（反向） | 数字智能排序（反向） |
| `, s` | 按大小排序 | 从小到大 |
| `, S` | 按大小排序（反向） | 从大到小 |
| `, r` | 随机排序 | 随机打乱顺序 |

---

## 显示模式

按 `m` 键后再按以下键切换显示模式：

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `m s` | 显示文件大小 | 在文件名旁显示大小 |
| `m p` | 显示权限 | 显示文件权限信息 |
| `m b` | 显示创建时间 | 显示文件创建时间 |
| `m m` | 显示修改时间 | 显示文件修改时间 |
| `m o` | 显示所有者 | 显示文件所有者 |
| `m n` | 无额外信息 | 只显示文件名 |

### 其他显示选项

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `.` | 切换隐藏文件 | 显示/隐藏以 `.` 开头的文件 |

---

## 复制路径

按 `c` 键后再按以下键复制不同内容：

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `c c` | 复制完整路径 | 复制文件的完整路径 |
| `c d` | 复制目录路径 | 复制文件所在目录的路径 |
| `c f` | 复制文件名 | 复制完整文件名（含扩展名） |
| `c n` | 复制文件名（无扩展名） | 只复制文件名部分 |

---

## 任务管理

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `w` | 打开任务管理器 | 查看正在进行的任务 |

### 在任务管理器中

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `w` 或 `Esc` | 关闭任务管理器 | 返回文件浏览 |
| `j` / `k` 或 `↓` / `↑` | 上下移动 | 选择任务 |
| `Enter` | 查看任务详情 | 检查任务信息 |
| `x` | 取消任务 | 取消选中的任务 |

---

## 帮助系统

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `~` 或 `F1` | 打开帮助 | 显示所有快捷键 |
| `f` | 过滤帮助项 | 在帮助中搜索 |
| `Esc` | 关闭帮助 | 返回文件浏览 |

---

## 输入模式快捷键

在输入框中（重命名、创建文件、搜索等）可用的快捷键：

### 模式切换

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `i` | 进入插入模式 | 在光标位置插入 |
| `I` | 行首插入 | 移到行首并插入 |
| `a` | 追加模式 | 在光标后插入 |
| `A` | 行尾追加 | 移到行尾并插入 |
| `Esc` | 退出插入模式 | 返回普通模式 |

### 移动光标

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `h` / `l` 或 `←` / `→` | 左右移动 | 移动一个字符 |
| `w` | 下一个词 | 跳到下一个词的开头 |
| `b` | 上一个词 | 跳到上一个词的开头 |
| `e` | 词尾 | 跳到当前/下一个词的结尾 |
| `0` 或 `Ctrl + a` | 行首 | 跳到行首 |
| `$` 或 `Ctrl + e` | 行尾 | 跳到行尾 |

### 编辑操作

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Backspace` | 删除前一个字符 | 向左删除 |
| `Delete` 或 `Ctrl + d` | 删除当前字符 | 向右删除 |
| `Ctrl + u` | 删除到行首 | 清除光标前的内容 |
| `Ctrl + k` | 删除到行尾 | 清除光标后的内容 |
| `Ctrl + w` | 删除前一个词 | 向左删除一个词 |
| `d` | 剪切选中内容 | 在可视模式下剪切 |
| `y` | 复制选中内容 | 在可视模式下复制 |
| `p` | 粘贴 | 在光标后粘贴 |
| `P` | 粘贴（前） | 在光标前粘贴 |
| `u` | 撤销 | 撤销上一步操作 |
| `Ctrl + r` | 重做 | 重做上一步操作 |

### 提交/取消

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Enter` | 提交 | 确认输入 |
| `Ctrl + c` | 取消 | 取消输入 |

---

## 常用操作流程示例

### 1. 复制文件到另一个目录
1. 用 `Space` 选择要复制的文件
2. 按 `y` 复制文件
3. 导航到目标目录（用 `h`/`l` 或 `g` 快捷键）
4. 按 `p` 粘贴文件

### 2. 批量重命名
1. 用 `Space` 或 `v` 选择多个文件
2. 按 `r` 进入重命名模式
3. 输入新名称
4. 按 `Enter` 确认

### 3. 搜索并打开文件
1. 按 `s` 搜索文件名（或 `S` 搜索内容）
2. 输入搜索关键词
3. 用 `j`/`k` 选择结果
4. 按 `Enter` 打开文件

### 4. 使用 fzf 快速跳转
1. 按 `z` 打开 fzf
2. 输入文件/目录名称（支持模糊匹配）
3. 用 `↑`/`↓` 选择
4. 按 `Enter` 跳转

### 5. 查看大文件预览
1. 用 `j`/`k` 选择文件
2. 右侧自动显示预览
3. 用 `J`/`K` 在预览中滚动
4. 按 `Tab` 进入 Spot 模式查看详细内容

---

## 配置文件位置

- **配置目录**: `%USERPROFILE%\AppData\Local\yazi\config`
- **主配置**: `yazi.toml`
- **快捷键配置**: `keymap.toml`
- **主题配置**: `theme.toml`

快捷键 `g c` 可以快速跳转到配置目录。

---

## 提示与技巧

1. **双键组合**: 很多操作需要按两个键，如 `g h`（先按 `g`，再按 `h`）
2. **可视模式**: 按 `v` 进入可视模式后，用 `j`/`k` 可以连续选择多个文件
3. **预览增强**: 确保安装了 `bat`、`ffmpegthumbnailer` 等工具以获得更好的预览效果
4. **符号链接**: Windows 创建符号链接需要管理员权限
5. **回收站**: 按 `d` 删除的文件会进入 Windows 回收站，可以恢复

---

**享受使用 Yazi！** 🚀

如有问题，按 `~` 或 `F1` 查看内置帮助。

